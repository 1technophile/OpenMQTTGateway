<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Integrate OPENHAB 3/4 | Theengs OpenMQTTGateway DEVELOPMENT SHA:0b4c6e TEST ONLY</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="apple-touch-icon" sizes="180x180" href=".apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/dev/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/dev/favicon-16x16.png">
    <link rel="manifest" href="/dev/manifest.json">
    <link rel="mask-icon" href="/dev/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script type="module" src="https://unpkg.com/esp-web-tools@9.4.3/dist/web/install-button.js?module"></script>
    <meta name="description" content="One gateway, many technologies: MQTT gateway for ESP8266 or ESP32 with bidirectional 433mhz/315mhz/868mhz, Infrared communications, BLE, LoRa, beacons detection, mi flora / mi jia / LYWSD02/ Mi Scale compatibility, SMS &amp; LORA.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/favicon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/dev/assets/css/0.styles.0f5b7756.css" as="style"><link rel="preload" href="/dev/assets/js/app.415c9586.js" as="script"><link rel="preload" href="/dev/assets/js/2.1486a66d.js" as="script"><link rel="preload" href="/dev/assets/js/1.4ad45915.js" as="script"><link rel="preload" href="/dev/assets/js/13.d14b4ef3.js" as="script"><link rel="prefetch" href="/dev/assets/js/10.95089954.js"><link rel="prefetch" href="/dev/assets/js/11.a0e96e5a.js"><link rel="prefetch" href="/dev/assets/js/12.3d501858.js"><link rel="prefetch" href="/dev/assets/js/14.d4097d38.js"><link rel="prefetch" href="/dev/assets/js/15.0dfffdbd.js"><link rel="prefetch" href="/dev/assets/js/16.95988e7b.js"><link rel="prefetch" href="/dev/assets/js/17.f02770cc.js"><link rel="prefetch" href="/dev/assets/js/18.9e31d1bc.js"><link rel="prefetch" href="/dev/assets/js/19.7c603986.js"><link rel="prefetch" href="/dev/assets/js/20.b2e40f1b.js"><link rel="prefetch" href="/dev/assets/js/21.e85b0d8b.js"><link rel="prefetch" href="/dev/assets/js/22.1fa11360.js"><link rel="prefetch" href="/dev/assets/js/23.d5ff69ee.js"><link rel="prefetch" href="/dev/assets/js/24.cb5dd615.js"><link rel="prefetch" href="/dev/assets/js/25.3cdd6711.js"><link rel="prefetch" href="/dev/assets/js/26.a1bfb6b4.js"><link rel="prefetch" href="/dev/assets/js/27.2a253105.js"><link rel="prefetch" href="/dev/assets/js/28.6d508d1c.js"><link rel="prefetch" href="/dev/assets/js/29.4c590a74.js"><link rel="prefetch" href="/dev/assets/js/3.2fb8cc22.js"><link rel="prefetch" href="/dev/assets/js/30.ae319492.js"><link rel="prefetch" href="/dev/assets/js/31.7ec0b927.js"><link rel="prefetch" href="/dev/assets/js/32.bf6ed2d3.js"><link rel="prefetch" href="/dev/assets/js/33.ae5d132c.js"><link rel="prefetch" href="/dev/assets/js/34.4c0e2654.js"><link rel="prefetch" href="/dev/assets/js/35.02a32396.js"><link rel="prefetch" href="/dev/assets/js/36.535ca1b8.js"><link rel="prefetch" href="/dev/assets/js/37.8d65fda2.js"><link rel="prefetch" href="/dev/assets/js/38.8be8b296.js"><link rel="prefetch" href="/dev/assets/js/39.41f2f255.js"><link rel="prefetch" href="/dev/assets/js/4.2a2fed8f.js"><link rel="prefetch" href="/dev/assets/js/40.d70b6b6c.js"><link rel="prefetch" href="/dev/assets/js/41.c56bed06.js"><link rel="prefetch" href="/dev/assets/js/42.917d08d8.js"><link rel="prefetch" href="/dev/assets/js/43.eb0af3bc.js"><link rel="prefetch" href="/dev/assets/js/44.1a6c6d66.js"><link rel="prefetch" href="/dev/assets/js/45.52636278.js"><link rel="prefetch" href="/dev/assets/js/46.cfb761e3.js"><link rel="prefetch" href="/dev/assets/js/47.15d9b7bc.js"><link rel="prefetch" href="/dev/assets/js/48.fbb11cfa.js"><link rel="prefetch" href="/dev/assets/js/49.0ac9353c.js"><link rel="prefetch" href="/dev/assets/js/5.e28032c6.js"><link rel="prefetch" href="/dev/assets/js/50.e50504fe.js"><link rel="prefetch" href="/dev/assets/js/51.c9fbf19a.js"><link rel="prefetch" href="/dev/assets/js/52.f7daa8c4.js"><link rel="prefetch" href="/dev/assets/js/53.302f5244.js"><link rel="prefetch" href="/dev/assets/js/54.5d90cc46.js"><link rel="prefetch" href="/dev/assets/js/55.8a26f7bc.js"><link rel="prefetch" href="/dev/assets/js/56.96e9b762.js"><link rel="prefetch" href="/dev/assets/js/57.a706373d.js"><link rel="prefetch" href="/dev/assets/js/58.13430695.js"><link rel="prefetch" href="/dev/assets/js/59.b437883c.js"><link rel="prefetch" href="/dev/assets/js/6.641c06fe.js"><link rel="prefetch" href="/dev/assets/js/60.8d635f5f.js"><link rel="prefetch" href="/dev/assets/js/61.d1c4e5d9.js"><link rel="prefetch" href="/dev/assets/js/62.91c08ee2.js"><link rel="prefetch" href="/dev/assets/js/63.890298c5.js"><link rel="prefetch" href="/dev/assets/js/64.740d4584.js"><link rel="prefetch" href="/dev/assets/js/65.e8d59bdb.js"><link rel="prefetch" href="/dev/assets/js/66.993254bc.js"><link rel="prefetch" href="/dev/assets/js/67.d5644b1c.js"><link rel="prefetch" href="/dev/assets/js/7.dafeb66f.js"><link rel="prefetch" href="/dev/assets/js/vendors~docsearch.fc117b08.js">
    <link rel="stylesheet" href="/dev/assets/css/0.styles.0f5b7756.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dev/" class="home-link router-link-active"><!----> <span class="site-name">Theengs OpenMQTTGateway DEVELOPMENT SHA:0b4c6e TEST ONLY</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.theengs.io" target="_self" class="nav-link external">
  Home
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use cases" class="dropdown-title"><span class="title">Use cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use cases" class="mobile-dropdown-title"><span class="title">Use cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/smarthome.html" target="_self" class="nav-link external">
  Smart Home
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/iot.html" target="_self" class="nav-link external">
  IoT
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/research.html" target="_self" class="nav-link external">
  Research
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Solutions" class="dropdown-title"><span class="title">Solutions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Solutions" class="mobile-dropdown-title"><span class="title">Solutions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Hardware
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption" target="_self" class="nav-link external">
  Theengs Plug
  <!----></a></li><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-bridge-esp32-ble-mqtt-gateway-with-ethernet-and-external-antenna" target="_self" class="nav-link external">
  Theengs Bridge
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Software
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.theengs.io" target="_self" class="nav-link external">
  Mobile App
  <!----></a></li><li class="dropdown-subitem"><a href="https://docs.openmqttgateway.com" target="_self" class="nav-link external">
  OpenMQTTGateway
  <!----></a></li><li class="dropdown-subitem"><a href="https://gateway.theengs.io" target="_self" class="nav-link external">
  Gateway
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Core
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://decoder.theengs.io" target="_self" class="nav-link external">
  Decoder
  <!----></a></li><li class="dropdown-subitem"><a href="https://parser.theengs.io" target="_self" class="nav-link external">
  Web Parser
  <!----></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://decoder.theengs.io/devices/devices.html" target="_self" class="nav-link external">
  Compatible devices
  <!----></a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_self" class="nav-link external">
  Community
  <!----></a></div><div class="nav-item"><a href="https://shop.theengs.io/" target="_self" class="nav-link external">
  Shop
  <!----></a></div><div class="nav-item"><a href="https://github.com/sponsors/theengs" target="_self" class="nav-link external">
  Sponsor ü§ç
  <!----></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.theengs.io" target="_self" class="nav-link external">
  Home
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use cases" class="dropdown-title"><span class="title">Use cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use cases" class="mobile-dropdown-title"><span class="title">Use cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/smarthome.html" target="_self" class="nav-link external">
  Smart Home
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/iot.html" target="_self" class="nav-link external">
  IoT
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/research.html" target="_self" class="nav-link external">
  Research
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Solutions" class="dropdown-title"><span class="title">Solutions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Solutions" class="mobile-dropdown-title"><span class="title">Solutions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Hardware
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption" target="_self" class="nav-link external">
  Theengs Plug
  <!----></a></li><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-bridge-esp32-ble-mqtt-gateway-with-ethernet-and-external-antenna" target="_self" class="nav-link external">
  Theengs Bridge
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Software
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.theengs.io" target="_self" class="nav-link external">
  Mobile App
  <!----></a></li><li class="dropdown-subitem"><a href="https://docs.openmqttgateway.com" target="_self" class="nav-link external">
  OpenMQTTGateway
  <!----></a></li><li class="dropdown-subitem"><a href="https://gateway.theengs.io" target="_self" class="nav-link external">
  Gateway
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Core
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://decoder.theengs.io" target="_self" class="nav-link external">
  Decoder
  <!----></a></li><li class="dropdown-subitem"><a href="https://parser.theengs.io" target="_self" class="nav-link external">
  Web Parser
  <!----></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://decoder.theengs.io/devices/devices.html" target="_self" class="nav-link external">
  Compatible devices
  <!----></a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_self" class="nav-link external">
  Community
  <!----></a></div><div class="nav-item"><a href="https://shop.theengs.io/" target="_self" class="nav-link external">
  Shop
  <!----></a></div><div class="nav-item"><a href="https://github.com/sponsors/theengs" target="_self" class="nav-link external">
  Sponsor ü§ç
  <!----></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/dev/" aria-current="page" class="sidebar-link">0 - What is it for üè†</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>1 - Prerequisitesüß≠</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2 - Set it up üî®</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3 - Upload ‚û°Ô∏è</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>4 - Use ‚úàÔ∏è</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>5 - Integrate üéâ</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/integrate/openhab2.html" class="sidebar-link">Integrate OPENHAB2</a></li><li><a href="/dev/integrate/openhab3.html" aria-current="page" class="active sidebar-link">Integrate OPENHAB 3/4</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#ip-address-if-your-broker-is-installed-on-the-same-server-as-openhab" class="sidebar-link">IP address (if your broker is installed on the same server as OpenHAB)</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#install-the-mqtt-binding" class="sidebar-link">Install the MQTT binding</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#install-jinja-and-jsonpath-transformations" class="sidebar-link">Install Jinja and JSONPath Transformations</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#upload-openmqttgateway-to-an-esp32" class="sidebar-link">Upload OpenMQTTGateway to an ESP32</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#configure-openmqttgateway-from-the-web-portal" class="sidebar-link">Configure OpenMQTTGateway from the web portal</a></li><li class="sidebar-sub-header"><a href="/dev/integrate/openhab3.html#adding-the-things" class="sidebar-link">Adding the things</a></li></ul></li><li><a href="/dev/integrate/home_assistant.html" class="sidebar-link">Integrate Home Assistant</a></li><li><a href="/dev/integrate/node_red.html" class="sidebar-link">Integrate Node-Red</a></li><li><a href="/dev/integrate/aws_iot.html" class="sidebar-link">Integrate AWS IOT</a></li><li><a href="/dev/integrate/jeedom.html" class="sidebar-link">Integrate Jeedom</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6 - Participate üíª</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="integrate-openhab-3-4"><a href="#integrate-openhab-3-4" class="header-anchor">#</a> Integrate OPENHAB 3/4</h1> <p>This tutorial will show how to integrate the BLE gateway to OpenHAB 3 or 4 leveraging the auto discovery functionality.
After this tutorial, you should see your Bluetooth Low Energy devices in OpenHAB without any file based manual configuration.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <ul><li>OpenHAB 3.3 or higher</li> <li>MQTT broker installed with or without authentication</li> <li>A location defined in the &quot;Model&quot; section under &quot;Settings&quot;</li></ul> <h2 id="ip-address-if-your-broker-is-installed-on-the-same-server-as-openhab"><a href="#ip-address-if-your-broker-is-installed-on-the-same-server-as-openhab" class="header-anchor">#</a> IP address (if your broker is installed on the same server as OpenHAB)</h2> <p>The goal is to disable the IPv6 address of the broker server, so that the gateway can connect through IPv4.</p> <ol><li>From the Administration click on Settings</li> <li>Click on Network Settings</li> <li>Click on Show Advanced</li> <li>Disable IPv6</li> <li>Click on Save</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-ip.64868e1f.png" alt="OpenHAB integration"></p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>If the broker is installed on another server you will also need to configure it with an IPv4 address.</p></div> <h2 id="install-the-mqtt-binding"><a href="#install-the-mqtt-binding" class="header-anchor">#</a> Install the MQTT binding</h2> <ol><li>From the Administration click on Settings</li> <li>Click on Bindings</li> <li>Install the MQTT binding (you can search at the bottom right)</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding.8789907b.png" alt="OpenHAB integration"></p> <ol start="4"><li>Once installed click on Things under Settings</li> <li>Click on the + at the bottom right</li> <li>Click on MQTT Binding</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding2.27222f76.png" alt="OpenHAB integration"></p> <ol start="7"><li>Click on MQTT broker</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding3.9ea3c10c.png" alt="OpenHAB integration"></p> <ol start="8"><li>Enter for the &quot;Broker Hostname/IP&quot; field, the IP address of your broker, if it is installed on the same server you can enter <code>localhost</code></li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding4.0f0bb3a2.png" alt="OpenHAB integration"></p> <ol start="9"><li>Click on &quot;Show Advanced&quot; if your broker has authentication activated, if not you can go to step 11</li> <li>Enter the broker credentials: username and password</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding5.21edc73e.png" alt="OpenHAB integration"></p> <ol start="11"><li>Click on Create Thing at the bottom, you should see your MQTT Broker in the Things list with the status &quot;online&quot;</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-binding6.0f2993f1.png" alt="OpenHAB integration"></p> <p>Bravoüëè, second step done! Now let's add the Jinja transformation service.</p> <h2 id="install-jinja-and-jsonpath-transformations"><a href="#install-jinja-and-jsonpath-transformations" class="header-anchor">#</a> Install Jinja and JSONPath Transformations</h2> <ol><li>From the Administration click on Settings</li> <li>Click on Bindings</li> <li>Install Jinja Transformation (you can search at the bottom right)</li> <li>Install JSONPath Transformation</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-jinja.1c611c34.png" alt="OpenHAB integration"></p> <p>Second step done!</p> <h2 id="upload-openmqttgateway-to-an-esp32"><a href="#upload-openmqttgateway-to-an-esp32" class="header-anchor">#</a> Upload OpenMQTTGateway to an ESP32</h2> <p><a href="/dev/upload/web-install.html">Upload OpenMQTTGateway from the web</a> by selecting the environment corresponding to your need.</p> <p>Or use another upload method from the Upload section.</p> <h2 id="configure-openmqttgateway-from-the-web-portal"><a href="#configure-openmqttgateway-from-the-web-portal" class="header-anchor">#</a> Configure OpenMQTTGateway from the web portal</h2> <p><a href="/dev/upload/portal.html">Wifi and MQTT configuration</a></p> <p>Or use another upload method from the Upload section that requires credentials before the build.</p> <p>You should see the gateway connected to your broker by checking with an MQTT client like MQTT Explorer.</p> <p>To make the auto discovery compatible with OpenHAB you have to send the following command with a retain flag.</p> <p><code>mosquitto_pub -t &quot;home/OpenMQTTGateway/commands/MQTTtoSYS/config&quot; -m '{&quot;ohdisc&quot;:true}'</code></p> <p>You can also activate OpenHAB auto discovery by adding the gateway as a Thing, Model, and switching the button to ON. The name of the channel to add is &quot;SYS: OpenHAB discovery&quot;.
Once activated restart OpenMQTTGateway.</p> <h2 id="adding-the-things"><a href="#adding-the-things" class="header-anchor">#</a> Adding the things</h2> <ol><li>From the Administration click on &quot;Things&quot; under &quot;Settings&quot;, you should see a number in the INBOX button</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-things.abb5bd4b.png" alt="OpenHAB integration"></p> <ol start="2"><li>Click on INBOX, you should see your BLE devices and the gateway</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-things2.2e6e9d16.png" alt="OpenHAB integration"></p> <ol start="3"><li>Click on a device, a pop up &quot;Add as Thing&quot; should appear</li> <li>Rename it if you need, and click OK, repeat for each Thing discovered. The devices should appears as online progressively.</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-things3.c8683e56.png" alt="OpenHAB integration"></p> <ol start="5"><li>Click on Model</li> <li>Select the location of where you want to create the Equipment</li> <li>Click on &quot;Create Equipment from Thing&quot;</li> <li>Click on Thing</li> <li>Select a Thing</li> <li>Rename your Equipment if you need</li> <li>Select the Channels</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-things4.b8d0101e.png" alt="OpenHAB integration"></p> <ol start="12"><li>Click on &quot;Add to Model&quot;</li> <li>Go to Model, if you unfold your location and Equipment you should be able to see values</li></ol> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt-things5.c84ba146.png" alt="OpenHAB integration"></p> <p>Congratulationüéâ! You were able to get data from your BLE sensors into OpenHAB. You can now add the others and use the data to build pages, leverage rules and enjoy all the function of your Home Automation controller with BLE devices.</p> <p><img src="/dev/assets/img/OpenMQTTGateway-OpenHAB-Theengs-mqtt.79c99c28.png" alt="OpenHAB integration"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/1technophile/OpenMQTTGateway/edit/development/docs/integrate/openhab3.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/17/2024, 2:58:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/dev/integrate/openhab2.html" class="prev">
        Integrate OPENHAB2
      </a></span> <span class="next"><a href="/dev/integrate/home_assistant.html">
        Integrate Home Assistant
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/dev/assets/js/app.415c9586.js" defer></script><script src="/dev/assets/js/2.1486a66d.js" defer></script><script src="/dev/assets/js/1.4ad45915.js" defer></script><script src="/dev/assets/js/13.d14b4ef3.js" defer></script>
  </body>
</html>
